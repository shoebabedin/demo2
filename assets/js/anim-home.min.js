"use strict";function isMobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function init(){device=isMobile()?"mobile":"pc",container=document.getElementById("main-anim"),camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4),camera.position.z=1e3,controls=new THREE.DeviceOrientationControls(camera),scene=new THREE.Scene,particles=new Array;for(var a=2*Math.PI,b=new THREE.SpriteCanvasMaterial({color:0x22CB5B,program:function(b){b.beginPath(),b.arc(0,0,.5,0,a,!0),b.fill()}}),c=0,d=0;d<AMOUNTX;d++)for(var e=0;e<AMOUNTY;e++)particle=particles[c++]=new THREE.Sprite(b),particle.position.x=d*SEPARATION-AMOUNTX*SEPARATION/2+45,particle.position.z=e*SEPARATION-AMOUNTY*SEPARATION/2,scene.add(particle);renderer=new THREE.CanvasRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,1*window.innerHeight),renderer.setClearColor(0x000000,1),container.appendChild(renderer.domElement),document.addEventListener("mousemove",onDocumentMouseMove,!1),document.addEventListener("resize",onWindowResize,!1),$(window).resize(onWindowResize),window.addEventListener("orientationchange",onDocumentOrientation,!1)}function onDocumentOrientation(){90===window.orientation||window.orientation===-90||setTimeout(function(){onWindowResize()},1e3)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(a){mouseX=a.clientX-windowHalfX,mouseY=a.clientY-windowHalfY}function animate(){requestAnimationFrame(animate),render()}function render(){for(var a=0,b=0;b<AMOUNTX;b++)for(var c=0;c<AMOUNTY;c++)particle=particles[a++],particle.position.y=50*Math.sin(.3*(b+count))+50*Math.sin(.5*(c+count))-195,particle.scale.x=particle.scale.y=4*(Math.sin(.3*(b+count))+1)+4*(Math.sin(.5*(c+count))+1);isMobile()?controls.update():(camera.position.x+=.05*(mouseX-camera.position.x),camera.position.y+=.05*(-mouseY-camera.position.y),camera.position.y=Math.abs(camera.position.y),camera.lookAt(scene.position)),renderer.render(scene,camera),count+=.1}var SEPARATION=100,AMOUNTX=50,AMOUNTY=50,device,controls,container,camera,scene,renderer,particles,particle,count=0,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;init(),animate();var ypos=0;
